CREATE TABLE Customer (
    CUSTOMER_ID VARCHAR(25) PRIMARY KEY,
    CUSTOMER_NAME VARCHAR(25),
    DOB DATE,
    AGE INT,
    GENDER VARCHAR(10),
    OCCUPATION VARCHAR(30),
    ANNUAL_INCOME DOUBLE,
    MEDICAL_HISTORY VARCHAR(40),
    ADDRESS VARCHAR(255),
    PHONE_NUMBER BIGINT(20),
    EMAIL_ID VARCHAR(25)
);

CREATE TABLE Policy (
    POLICY_ID VARCHAR(25) PRIMARY KEY, 
    SCHEME_NUMBER INT,
    POLICY_NAME VARCHAR(50),
    POLICY_TYPE VARCHAR(30),
    MAX_NO_OF_YEARS INT,
    PREMIUM_RATE DOUBLE,
    MAX_SUM_ASSURED INT
);

CREATE TABLE Allocation (
    ALLOCATION_ID VARCHAR(30) PRIMARY KEY,
    CUSTOMER_ID VARCHAR(20),
    POLICY_ID VARCHAR(20),
    NOMINEE_NAME VARCHAR(30),
    SUM_ASSURED DECIMAL(10,2),
    NO_OF_YEARS INT,
    PREMIUM_AMOUNT DECIMAL(10,2),
    PREMIUM_PAYMENT_CYCLE VARCHAR(20),
    TOTAL_PAYMENT DECIMAL(10,2),
    POLICY_STATUS VARCHAR(20),
    FOREIGN KEY (POLICY_ID) REFERENCES Policy(POLICY_ID) ON DELETE CASCADE,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES Customer(CUSTOMER_ID) ON DELETE CASCADE
);

CREATE TABLE Payment (
    PAYMENT_ID VARCHAR(30) PRIMARY KEY,
    CUSTOMER_ID VARCHAR(30),
    ALLOCATION_ID VARCHAR(30),
    PREMIUM DOUBLE,
    PAYMENT_DATE DATE,
    PAYMENT_MODE VARCHAR(30),
    INSTALLMENT_COUNT INT,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES Customer(CUSTOMER_ID) ON DELETE CASCADE,
    FOREIGN KEY (ALLOCATION_ID) REFERENCES Allocation(ALLOCATION_ID) ON DELETE CASCADE
);

CREATE TABLE Claim (
    CLAIM_ID VARCHAR(30) PRIMARY KEY,
    CUSTOMER_ID VARCHAR(30),
    ALLOCATION_ID VARCHAR(30),
    CLAIM_TYPE VARCHAR(30),
    CLAIM_AMOUNT DOUBLE,
    CLAIM_DATE DATE,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES Customer(CUSTOMER_ID) ON DELETE CASCADE,
    FOREIGN KEY (ALLOCATION_ID) REFERENCES Allocation(ALLOCATION_ID) ON DELETE CASCADE
);
